@page "/"

@inject ISnackbar Snackbar

@*Image Upload*@
<MudText Typo="Typo.h4">File Upload</MudText>
<MudPaper @ondragenter="@SetDragClass" @ondragleave="@ClearDragClass" @ondragend="@ClearDragClass" Height="300px" Outlined="true" Class="@DragClass">
    @if (!Clearing)
    {
        <InputFile OnChange="OnInputFileChanged" multiple  class="absolute mud-width-full mud-height-full overflow-hidden z-2" style="opacity:0;" />
    }
    <MudText Typo="Typo.h6">Drag and drop files here or click</MudText>
    @foreach (var file in fileNames)
    {
        <MudChip Color="Color.Dark" Text="@file" />
    }
</MudPaper>
<MudToolBar DisableGutters="true" Class="gap-4">
    <MudButton OnClick="Upload" Disabled="@(!fileNames.Any())" Color="Color.Primary" Variant="Variant.Filled">Upload</MudButton>
    <MudButton OnClick="Clear" Disabled="@(!fileNames.Any())" Color="Color.Error" Variant="Variant.Filled">Clear</MudButton>
</MudToolBar>

@*Bildergalerie*@
<MudText Typo="Typo.h4">Bildergalerie</MudText>
@if (_imageNames == null)
{
    <MudText Typo="Typo.body1">Loading...</MudText>
}
else
{
    <MudGrid>
        @foreach (string imageName in _imageNames)
        {
            string imageUrl = _imageKitBaseUrl + imageName;
            <MudItem xs="4">
                <MudImage Src="@imageUrl" Fluid="true" @onclick="() => NavigateToImageDetailsPage(imageName)"/>
            </MudItem>
        }
    </MudGrid>
}
